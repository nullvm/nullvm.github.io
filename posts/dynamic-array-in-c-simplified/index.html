<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Dynamic Array in C Simplified | nullvm</title>
<meta name="keywords" content="c">
<meta name="description" content="Array data structure is really useful, it can used to to store value
with same data types, we can access it really easy, updating the value
of array is also a trivial thing to do. One of the most important use
of array is that is it used to implement other more complex data structures
such as linked list, binary tree and hash tables.
But what is greater than array? Yup, dynamic array.">
<meta name="author" content="Deni Andrian Prayoga">
<link rel="canonical" href="/posts/dynamic-array-in-c-simplified/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.af48cad252819d53882fb159be15ecd4e57561e9d06c2c5d922c3727f740719b.css" integrity="sha256-r0jK0lKBnVOIL7FZvhXs1OV1YenQbCxdkiw3J/dAcZs=" rel="preload stylesheet" as="style">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/posts/dynamic-array-in-c-simplified/">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">

<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="/posts/dynamic-array-in-c-simplified/">
  <meta property="og:site_name" content="nullvm">
  <meta property="og:title" content="Dynamic Array in C Simplified">
  <meta property="og:description" content="Array data structure is really useful, it can used to to store value with same data types, we can access it really easy, updating the value of array is also a trivial thing to do. One of the most important use of array is that is it used to implement other more complex data structures such as linked list, binary tree and hash tables.
But what is greater than array? Yup, dynamic array.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-02T13:30:14+07:00">
    <meta property="article:modified_time" content="2024-07-02T13:30:14+07:00">
    <meta property="article:tag" content="C">
    <meta property="og:image" content="https://images.unsplash.com/photo-1644357655176-69d3fe7f2fcc?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1644357655176-69d3fe7f2fcc?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
<meta name="twitter:title" content="Dynamic Array in C Simplified">
<meta name="twitter:description" content="Array data structure is really useful, it can used to to store value
with same data types, we can access it really easy, updating the value
of array is also a trivial thing to do. One of the most important use
of array is that is it used to implement other more complex data structures
such as linked list, binary tree and hash tables.
But what is greater than array? Yup, dynamic array.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/posts/"
    }
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Dynamic Array in C Simplified",
      "item": "/posts/dynamic-array-in-c-simplified/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Dynamic Array in C Simplified",
  "name": "Dynamic Array in C Simplified",
  "description": "Array data structure is really useful, it can used to to store value with same data types, we can access it really easy, updating the value of array is also a trivial thing to do. One of the most important use of array is that is it used to implement other more complex data structures such as linked list, binary tree and hash tables.\nBut what is greater than array? Yup, dynamic array.\n",
  "keywords": [
    "c"
  ],
  "articleBody": "Array data structure is really useful, it can used to to store value with same data types, we can access it really easy, updating the value of array is also a trivial thing to do. One of the most important use of array is that is it used to implement other more complex data structures such as linked list, binary tree and hash tables.\nBut what is greater than array? Yup, dynamic array.\nWe will create an echo program to see how we can implement dynamic array in C programming language.\nNow, C doesn’t support dynamic array natively, however we can implement it easily, this article will show you how.\nReallocate Memory Before implementing dynamic array in C, let’s take a look on how to realloc memory in C using realloc.\nrealloc has the following syntax:\nvoid *realloc(void *_Nullable ptr, size_t size); pretty easy to use.\nHere is a code to demonstrate the use of realloc.\n#include #include int main() { int* ptr = (int*) malloc(2 * sizeof(int)); *(ptr + 0) = 7; *(ptr + 1) = 5; // *(ptr + 2) = 3; // uncommenting this will result in undefined behavior ptr = (int*) realloc(3 * sizeof(int)); *(ptr + 2) = 3; // valid free(ptr); return 0; } Using realloc is pretty straight forward, you only need to provide the pointer you wanted to resize and the new size.\nEcho Program Let’s say we have a program that capture user input and then store it in a pointer, after the user input new line, the program will print it to the standard output.\nHere is one way to implement it.\n#include int main() { char s[10]; int c, i; i = 0; while (i \u003c 9 \u0026\u0026 (c = getchar()) != '\\n') { s[i++] = c; } s[i] = '\\0'; printf(\"%s\\n\", s); return 0; } The code above will work just fine however, it will only able to print up to 9 characters long (10 characters with the \\0 delimiter).\nWhat if user input more than 9 characters? Well, we can just allocate big enough memory to store the user’s input. However, this might not be the best choice for our problem because allocating such big memory with no use is just impractical. User can input only 5 characters but if we already allocated, say 1000 characters, the rest of the memory will be unused.\nSince we never know the exact length of the user’s input, how about we start with small array and then increase the size of the array accordingly. This is where we use dynamic memory allocation.\nRewriting the above code will give us the following.\n#include #include int main() { char* s = (char*) malloc(10 * sizeof(char)); int c, i; i = 0; while (i \u003c 9 \u0026\u0026 (c = getchar()) != '\\n') { *(s+i) = c; ++i; } *(s+i) = '\\0'; printf(\"%s\\n\", s); free(s); return 0; } Yes, it is still static.\nWe need to use realloc to resize the pointer s.\n#include #include #define BUFSIZE 8 int main() { char* s = (char*) malloc(BUFSIZE * sizeof(char)); int c, i, j; i = 0; j = 1; while ((c = getchar()) != '\\n') { *(s+i) = c; ++i; if (i % BUFSIZE == 0) { ++j; s = (char*) realloc(s, BUFSIZE * j * sizeof(char)); } } *(s+i) = '\\0'; printf(\"%s\\n\", s); free(s); return 0; } Now the program will work as expected. Compile using -Wall -Werror -fsanitize=address using gcc to check if the program compiles correctly.\nAfterword We have seen how we can implement a dynamic array in C programming language, there are a lot of things we can improve in our echo program like error handling and non-ascii characters. I’ll leave it to you to do that.\nThat’s it for now, I’ll see you on another one.\nStay safe!\n",
  "wordCount" : "644",
  "inLanguage": "en",
  "image":"https://images.unsplash.com/photo-1644357655176-69d3fe7f2fcc?q=80\u0026w=1470\u0026auto=format\u0026fit=crop\u0026ixlib=rb-4.0.3\u0026ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","datePublished": "2024-07-02T13:30:14+07:00",
  "dateModified": "2024-07-02T13:30:14+07:00",
  "author":{
    "@type": "Person",
    "name": "Deni Andrian Prayoga"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/posts/dynamic-array-in-c-simplified/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "nullvm",
    "logo": {
      "@type": "ImageObject",
      "url": "/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/" accesskey="h" title="nullvm (Alt + H)">nullvm</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/posts" title="Post">
                    <span>Post</span>
                </a>
            </li>
            <li>
                <a href="/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Dynamic Array in C Simplified
    </h1>
    <div class="post-meta"><span title='2024-07-02 13:30:14 +0700 WIB'>July 2, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Deni Andrian Prayoga&nbsp;|&nbsp;<a href="https://github.com/nullvm/nullvm.github.io-precompiled/tree/main/content/posts/dynamic-array-in-c-simplified.md" rel="noopener noreferrer edit" target="_blank">Suggest Changes</a>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" src="https://images.unsplash.com/photo-1644357655176-69d3fe7f2fcc?q=80&amp;w=1470&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Source: [unsplash](https://unsplash.com/photos/a-building-with-a-clock-on-the-side-of-it-YWR9NKDHnls)">
        <figcaption>Source: <a href="https://unsplash.com/photos/a-building-with-a-clock-on-the-side-of-it-YWR9NKDHnls">unsplash</a></figcaption>
</figure>
  <div class="post-content"><p>Array data structure is really useful, it can used to to store value
with same data types, we can access it really easy, updating the value
of array is also a trivial thing to do. One of the most important use
of array is that is it used to implement other more complex data structures
such as linked list, binary tree and hash tables.</p>
<p>But what is greater than array? Yup, dynamic array.</p>
<p>We will create an echo program to see how we can implement dynamic array
in C programming language.</p>
<p>Now, C doesn&rsquo;t support dynamic array natively, however we can implement it
easily, this article will show you how.</p>
<h2 id="reallocate-memory">Reallocate Memory<a hidden class="anchor" aria-hidden="true" href="#reallocate-memory">#</a></h2>
<p>Before implementing dynamic array in C, let&rsquo;s take a look on how to realloc
memory in C using <code>realloc</code>.</p>
<p><code>realloc</code> has the following syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">void</span> <span style="color:#56b6c2">*</span><span style="color:#61afef;font-weight:bold">realloc</span>(<span style="color:#e5c07b">void</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">_Nullable</span> <span style="color:#e06c75">ptr</span>, <span style="color:#e5c07b">size_t</span> <span style="color:#e06c75">size</span>);
</span></span></code></pre></div><p>pretty easy to use.</p>
<p>Here is a code to demonstrate the use of <code>realloc</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdio.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdlib.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">ptr</span> <span style="color:#56b6c2">=</span> (<span style="color:#e5c07b">int</span><span style="color:#56b6c2">*</span>) <span style="color:#61afef;font-weight:bold">malloc</span>(<span style="color:#d19a66">2</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">int</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">ptr</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">0</span>) <span style="color:#56b6c2">=</span> <span style="color:#d19a66">7</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">ptr</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">1</span>) <span style="color:#56b6c2">=</span> <span style="color:#d19a66">5</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#7f848e">// *(ptr + 2) = 3; // uncommenting this will result in undefined behavior
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>  
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">ptr</span> <span style="color:#56b6c2">=</span> (<span style="color:#e5c07b">int</span><span style="color:#56b6c2">*</span>) <span style="color:#61afef;font-weight:bold">realloc</span>(<span style="color:#d19a66">3</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">int</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">ptr</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">2</span>) <span style="color:#56b6c2">=</span> <span style="color:#d19a66">3</span>; <span style="color:#7f848e">// valid
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">free</span>(<span style="color:#e06c75">ptr</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Using <code>realloc</code> is pretty straight forward, you only need to provide the pointer
you wanted to resize and the new size.</p>
<h2 id="echo-program">Echo Program<a hidden class="anchor" aria-hidden="true" href="#echo-program">#</a></h2>
<p>Let&rsquo;s say we have a program that capture user input and then store it in
a pointer, after the user input new line, the program will print it to the
standard output.</p>
<p>Here is one way to implement it.</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdio.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">char</span> <span style="color:#e06c75">s</span>[<span style="color:#d19a66">10</span>];
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">c</span>, <span style="color:#e06c75">i</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">i</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">while</span> (<span style="color:#e06c75">i</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">9</span> <span style="color:#56b6c2">&amp;&amp;</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">=</span> <span style="color:#61afef;font-weight:bold">getchar</span>()) <span style="color:#56b6c2">!=</span> <span style="color:#98c379">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">s</span>[<span style="color:#e06c75">i</span><span style="color:#56b6c2">++</span>] <span style="color:#56b6c2">=</span> <span style="color:#e06c75">c</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">s</span>[<span style="color:#e06c75">i</span>] <span style="color:#56b6c2">=</span> <span style="color:#98c379">&#39;\0&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">printf</span>(<span style="color:#98c379">&#34;%s</span><span style="color:#98c379">\n</span><span style="color:#98c379">&#34;</span>, <span style="color:#e06c75">s</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The code above will work just fine however, it will only able to print up to
9 characters long (10 characters with the <code>\0</code> delimiter).</p>
<p>What if user input more than 9 characters? Well, we can just allocate big enough
memory to store the user&rsquo;s input. However, this might not be the best choice for
our problem because allocating such big memory with no use is just impractical.
User can input only 5 characters but if we already allocated, say 1000 characters,
the rest of the memory will be unused.</p>
<p>Since we never know the exact length of the user&rsquo;s input, how about we start with
small array and then increase the size of the array accordingly. This is where we
use dynamic memory allocation.</p>
<p>Rewriting the above code will give us the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdio.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdlib.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">char</span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">s</span> <span style="color:#56b6c2">=</span> (<span style="color:#e5c07b">char</span><span style="color:#56b6c2">*</span>) <span style="color:#61afef;font-weight:bold">malloc</span>(<span style="color:#d19a66">10</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">char</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">c</span>, <span style="color:#e06c75">i</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">i</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">while</span> (<span style="color:#e06c75">i</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#d19a66">9</span> <span style="color:#56b6c2">&amp;&amp;</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">=</span> <span style="color:#61afef;font-weight:bold">getchar</span>()) <span style="color:#56b6c2">!=</span> <span style="color:#98c379">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">s</span><span style="color:#56b6c2">+</span><span style="color:#e06c75">i</span>) <span style="color:#56b6c2">=</span> <span style="color:#e06c75">c</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">++</span><span style="color:#e06c75">i</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">s</span><span style="color:#56b6c2">+</span><span style="color:#e06c75">i</span>) <span style="color:#56b6c2">=</span> <span style="color:#98c379">&#39;\0&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">printf</span>(<span style="color:#98c379">&#34;%s</span><span style="color:#98c379">\n</span><span style="color:#98c379">&#34;</span>, <span style="color:#e06c75">s</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">free</span>(<span style="color:#e06c75">s</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Yes, it is still static.</p>
<p>We need to use <code>realloc</code> to resize the pointer <code>s</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdio.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">#include</span> <span style="color:#7f848e">&lt;stdlib.h&gt;</span><span style="color:#7f848e">
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">#define BUFSIZE 8
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">char</span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">s</span> <span style="color:#56b6c2">=</span> (<span style="color:#e5c07b">char</span><span style="color:#56b6c2">*</span>) <span style="color:#61afef;font-weight:bold">malloc</span>(<span style="color:#e06c75">BUFSIZE</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">char</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">c</span>, <span style="color:#e06c75">i</span>, <span style="color:#e06c75">j</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">i</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#e06c75">j</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">while</span> ((<span style="color:#e06c75">c</span> <span style="color:#56b6c2">=</span> <span style="color:#61afef;font-weight:bold">getchar</span>()) <span style="color:#56b6c2">!=</span> <span style="color:#98c379">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">s</span><span style="color:#56b6c2">+</span><span style="color:#e06c75">i</span>) <span style="color:#56b6c2">=</span> <span style="color:#e06c75">c</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#56b6c2">++</span><span style="color:#e06c75">i</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> (<span style="color:#e06c75">i</span> <span style="color:#56b6c2">%</span> <span style="color:#e06c75">BUFSIZE</span> <span style="color:#56b6c2">==</span> <span style="color:#d19a66">0</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#56b6c2">++</span><span style="color:#e06c75">j</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#e06c75">s</span> <span style="color:#56b6c2">=</span> (<span style="color:#e5c07b">char</span><span style="color:#56b6c2">*</span>) <span style="color:#61afef;font-weight:bold">realloc</span>(<span style="color:#e06c75">s</span>, <span style="color:#e06c75">BUFSIZE</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">j</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">char</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#56b6c2">*</span>(<span style="color:#e06c75">s</span><span style="color:#56b6c2">+</span><span style="color:#e06c75">i</span>) <span style="color:#56b6c2">=</span> <span style="color:#98c379">&#39;\0&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">printf</span>(<span style="color:#98c379">&#34;%s</span><span style="color:#98c379">\n</span><span style="color:#98c379">&#34;</span>, <span style="color:#e06c75">s</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">free</span>(<span style="color:#e06c75">s</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now the program will work as expected. Compile using <code>-Wall -Werror -fsanitize=address</code> using <code>gcc</code>
to check if the program compiles correctly.</p>
<h2 id="afterword">Afterword<a hidden class="anchor" aria-hidden="true" href="#afterword">#</a></h2>
<p>We have seen how we can implement a dynamic array in C programming language,
there are a lot of things we can improve in our echo program like error handling
and non-ascii characters. I&rsquo;ll leave it to you to do that.</p>
<p>That&rsquo;s it for now, I&rsquo;ll see you on another one.</p>
<p>Stay safe!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/tags/c/">c</a></li>
    </ul>
  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "deniandriancode-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="/">nullvm</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>


<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
